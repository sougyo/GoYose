# GoYose - 囲碁ヨセ研究ツール

囲碁の終盤（ヨセ）における着手の価値を、木構造を使って逆算で計算する Web アプリケーションです。以下からアクセスしてください。

https://sougyo.github.io/GoYose/

## 概要

ユーザが任意の木構造を構築し、葉ノードに目数を入力すると、子ノードの平均値を親へ伝播させて全ノードの目数を算出します。各ノードには碁盤が付属しており、局面を視覚的に記録しながら分析できます。

## 使い方

`index.html` をブラウザで開くだけで動作します。サーバやビルドツールは不要です。

### ツリー管理

- **新規作成** - 左サイドバーの「+ 新規」ボタンでタイトルを指定して新しいツリーを作成
- **切り替え** - サイドバーのタイトルをクリックでツリーを切り替え
- **タイトル編集** - サイドバーのタイトルをダブルクリックでインライン編集
- **並び替え** - サイドバーの項目をドラッグ&ドロップで順序を変更
- **削除** - サイドバーの各項目の x ボタンでツリーを削除

### ノード操作

1. **ノード追加** - ツールバーの「+ ノード追加」ボタンで新しいノードを作成（盤サイズは 3〜19 で指定可能）
2. **碁盤に石を配置** - ノード内の碁盤をクリックで黒 → 白 → 空を切り替え
3. **ノードを複製** - ノードの「複製」ボタンで盤面をコピーした子ノードを自動作成・接続
4. **手動接続** - Ctrl+クリックで 2 つのノードを選択し「接続」ボタンで親子関係を設定（先に選択したノードが親）
5. **目数を入力** - 葉ノード（子を持たないノード）の目数欄に数値を入力
6. **計算** - 「計算」ボタンで葉から根へ平均値を伝播し、接続線上に一手の価値（親子間の目数差の絶対値）を表示
7. **削除** - ノードの x ボタン、ツールバーの「削除」ボタン、または選択中に Delete キーで削除

### キャンバス操作

- **ノードのドラッグ** - ノードのヘッダー部分をドラッグして移動
- **背景パン** - 背景の空き領域をドラッグして全体をスクロール
- **ズーム** - マウスホイールでカーソル位置を中心にズームイン / ズームアウト

### エクスポート / インポート

- **エクスポート** - サイドバー下部の「エクスポート」ボタンで全ツリーを JSON ファイルとしてダウンロード
- **インポート** - 「インポート」ボタンでエクスポートした JSON ファイルを読み込み、全ツリーを復元

## 計算ロジック

- 葉ノード: ユーザが入力した目数をそのまま使用
- 非葉ノード: 全子ノードの目数の平均値
- 一手の価値: 親ノードと子ノードの目数の差の絶対値（接続線上に表示）

## 技術構成

- HTML / CSS / JavaScript（バニラ）
- フレームワーク不使用、単一 HTML ファイルで完結
- 碁盤描画: HTML5 Canvas

## ライセンス

[Apache License 2.0](LICENSE)
